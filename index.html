<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<title>Incoming Call</title>
<style>
  :root{--bg:#0b1220;--card:#0f1a2b;--accent:#2de0a1;--muted:#9fb0c8}
  html,body{height:100%;margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}
  body{background:linear-gradient(180deg,#07101a 0%, #071826 100%);display:flex;align-items:center;justify-content:center;color:white}
  .screen{width:100%;max-width:520px;height:95vh;background:linear-gradient(180deg,rgba(255,255,255,0.02),rgba(255,255,255,0.01));border-radius:20px;padding:18px;box-sizing:border-box;display:flex;flex-direction:column;align-items:center;justify-content:space-between;box-shadow:0 10px 30px rgba(0,0,0,0.6)}
  .top{display:flex;flex-direction:column;align-items:center;margin-top:18px}
  .avatar{width:120px;height:120px;border-radius:50%;background:linear-gradient(135deg,#2b6 10%, #59c 100%);display:flex;align-items:center;justify-content:center;font-size:46px;box-shadow:0 6px 18px rgba(0,0,0,0.4)}
  .caller{margin-top:14px;text-align:center}
  .caller h1{margin:0;font-size:22px;letter-spacing:0.2px}
  .caller p{margin:6px 0 0;color:var(--muted);font-size:14px}
  .middle{display:flex;gap:12px;align-items:center}
  .time{margin-top:6px;color:var(--muted);font-size:13px}
  .controls{display:flex;gap:18px;margin-bottom:28px}
  button{border:0;padding:14px 18px;border-radius:12px;font-size:16px;cursor:pointer;min-width:110px;box-shadow:0 6px 16px rgba(0,0,0,0.3)}
  .decline{background:transparent;color:#ffd6d6;border:1px solid rgba(255,255,255,0.06)}
  .accept{background:linear-gradient(90deg,#26d07f,#13c5e8);color:#012;}
  .small{font-size:13px;color:var(--muted);margin-top:8px}
  .hidden{display:none}
  .footer{font-size:12px;color:var(--muted);text-align:center;margin-bottom:6px}
</style>
</head>
<body>
  <div class="screen" role="dialog" aria-label="Incoming call">
    <div class="top">
      <div class="avatar" id="avatar">üíñ</div>
      <div class="caller">
        <h1 id="callerName">Your Love</h1>
        <p id="callerSubtitle">Just for you</p>
        <div class="time" id="timeText">Ringing‚Ä¶</div>
      </div>
    </div>

    <div style="flex:1;display:flex;align-items:center;justify-content:center">
      <div class="middle"></div>
    </div>

    <div>
      <div class="controls">
        <button class="decline" id="declineBtn">Decline</button>
        <button class="accept" id="acceptBtn">Accept</button>
      </div>
      <div class="small">Tip: Press Accept to reveal a surprise message.</div>
      <div class="footer">(This is a harmless prank ‚Äî open for fun!)</div>
    </div>
  </div>

<script>
const ACCEPT_MESSAGE = "Surprise! üòÑ Sending you love!";
const DECLINE_MESSAGE = "Aww, you missed my cute message üòú";

const acceptBtn = document.getElementById('acceptBtn');
const declineBtn = document.getElementById('declineBtn');
const timeText = document.getElementById('timeText');

let ringInterval=null;
let ticks=0;
let audioCtx=null;

function startRingtone(){
  if(window.AudioContext || window.webkitAudioContext){
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    ringInterval = setInterval(()=> {
      playToneSequence();
    }, 1200);
  }
}
function playToneSequence(){
  if(!audioCtx) return;
  const notes = [880, 0, 988, 0, 784];
  let t = audioCtx.currentTime;
  notes.forEach((n,i)=>{
    if(n>0){
      const o = audioCtx.createOscillator();
      const g = audioCtx.createGain();
      o.type = 'sine';
      o.frequency.value = n;
      g.gain.value = 0.12;
      o.connect(g); g.connect(audioCtx.destination);
      o.start(t + i*0.12);
      o.stop(t + i*0.12 + 0.18);
    }
  });
}

function startVibrate(){
  if(navigator.vibrate){
    navigator.vibrate([300,150,300]);
  }
}

function startRingingText(){
  ringText = setInterval(()=>{
    ticks = (ticks+1)%4;
    timeText.textContent = "Ringing" + ".".repeat(ticks);
  },450);
}

window.addEventListener('load', ()=>{
  startRingingText();
  setTimeout(()=>{
    try { startRingtone(); } catch(e){}
    try { startVibrate(); } catch(e){}
  }, 500);
});

acceptBtn.addEventListener('click', ()=> { stopAll(); showMessage(ACCEPT_MESSAGE); });
declineBtn.addEventListener('click', ()=> { stopAll(); showMessage(DECLINE_MESSAGE); });

function stopAll(){
  if(ringInterval) { clearInterval(ringInterval); ringInterval = null; }
  if(audioCtx && audioCtx.state!=='closed'){ try{ audioCtx.close(); }catch(e){} }
  if(typeof ringText !== 'undefined') clearInterval(ringText);
  if(navigator.vibrate) navigator.vibrate(0);
}

function showMessage(msg){
  const screen = document.querySelector('.screen');
  screen.innerHTML = `
    <div style="display:flex;flex-direction:column;align-items:center;justify-content:center;padding:24px">
      <div style="font-size:62px;margin-bottom:18px">üéâ</div>
      <h2 style="margin:0 0 10px">${msg}</h2>
      <p style="color:var(--muted);margin:6px 0 20px">Prank delivered with ‚ù§Ô∏è</p>
      <button id="closeBtn" style="padding:12px 18px;border-radius:10px;border:0;cursor:pointer">Close</button>
    </div>`;
  document.getElementById('closeBtn').addEventListener('click', ()=> window.close ? window.close() : window.location.href = 'about:blank');
}

window.addEventListener('keydown', (e)=>{
  if(e.key==='Enter' || e.key===' '){ acceptBtn.click(); }
});
</script>
</body>
</html>
